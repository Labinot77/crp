var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t){e.appendChild(t)}function a(e,t,n){e.insertBefore(t,n||null)}function l(e){e.parentNode&&e.parentNode.removeChild(e)}function i(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function d(){return f(" ")}function m(){return f("")}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function h(e,t,n){e.classList[n?"add":"remove"](t)}let g;function y(e){g=e}function w(){if(!g)throw new Error("Function called outside component initialization");return g}function v(e){w().$$.on_mount.push(e)}const E=[],S=[];let b=[];const x=[],_=Promise.resolve();let N=!1;function k(e){b.push(e)}const T=new Set;let P=0;function A(){if(0!==P)return;const e=g;do{try{for(;P<E.length;){const e=E[P];P++,y(e),C(e.$$)}}catch(e){throw E.length=0,P=0,e}for(y(null),E.length=0,P=0;S.length;)S.pop()();for(let e=0;e<b.length;e+=1){const t=b[e];T.has(t)||(T.add(t),t())}b.length=0}while(E.length);for(;x.length;)x.pop()();N=!1,T.clear(),y(e)}function C(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(k)}}const L=new Set;let D;function M(){D={r:0,c:[],p:D}}function j(){D.r||o(D.c),D=D.p}function q(e,t){e&&e.i&&(L.delete(e),e.i(t))}function G(e,t,n,o){if(e&&e.o){if(L.has(e))return;L.add(e),D.c.push((()=>{L.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}function O(e){e&&e.c()}function R(e,n,c,s){const{fragment:a,after_update:l}=e.$$;a&&a.m(n,c),s||k((()=>{const n=e.$$.on_mount.map(t).filter(r);e.$$.on_destroy?e.$$.on_destroy.push(...n):o(n),e.$$.on_mount=[]})),l.forEach(k)}function H(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];b.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),b=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function B(e,t){-1===e.$$.dirty[0]&&(E.push(e),N||(N=!0,_.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function z(t,r,c,s,a,i,u,f=[-1]){const d=g;y(t);const m=t.$$={fragment:null,ctx:[],props:i,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:r.target||d.$$.root};u&&u(m.root);let p=!1;if(m.ctx=c?c(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&a(m.ctx[e],m.ctx[e]=r)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](r),p&&B(t,e)),n})):[],m.update(),p=!0,o(m.before_update),m.fragment=!!s&&s(m.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);m.fragment&&m.fragment.l(e),e.forEach(l)}else m.fragment&&m.fragment.c();r.intro&&q(t.$$.fragment),R(t,r.target,r.anchor,r.customElement),A()}y(d)}class F{$destroy(){H(this,1),this.$destroy=e}$on(t,n){if(!r(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const U=(e,t)=>{const n=n=>{const{Action:o,Data:r}=n.data;`${o}`===e&&t(r)};var o;v((()=>window.addEventListener("message",n))),o=()=>window.removeEventListener("message",n),w().$$.on_destroy.push(o)},V=(e,t,n)=>{n||(n=()=>{}),async function(e,t,n){const o=e||(GetParentResourceName?window.GetParentResourceName():"nui-frame-app"),r=await fetch(`https://${o}/${t}`,{method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)});return await r.json()}("fw-emotes",e,t||{}).then((e=>{n(!0,e)})).catch((e=>{n(!1,e)}))},J=(e,t)=>{U(e,t)},I=(e,t,n,o)=>{window.addEventListener("keyup",(r=>{"Escape"!=r.key&&"Backspace"!=r.key||n()&&(V(t,o),window.dispatchEvent(new MessageEvent("message",{data:{Action:e,Data:o||{}}})))}))};function K(e,t,n){const o=e.slice();return o[3]=t[n],o[5]=n,o}function Q(e){let t,n,o=e[3]+"";return{c(){t=u("p"),n=f(o)},m(e,o){a(e,t,o),s(t,n)},p(e,t){1&t&&o!==(o=e[3]+"")&&function(e,t){t=""+t,e.data!==t&&(e.data=t)}(n,o)},d(e){e&&l(t)}}}function W(t){let n,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=Q(K(t,o,e));return{c(){n=u("div");for(let e=0;e<r.length;e+=1)r[e].c();p(n,"class","menu-item svelte-ljmhqn"),h(n,"item-selected",t[1]),h(n,"item-blue",t[2])},m(e,t){a(e,n,t);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null)},p(e,[t]){if(1&t){let c;for(o=e[0],c=0;c<o.length;c+=1){const s=K(e,o,c);r[c]?r[c].p(s,t):(r[c]=Q(s),r[c].c(),r[c].m(n,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}2&t&&h(n,"item-selected",e[1]),4&t&&h(n,"item-blue",e[2])},i:e,o:e,d(e){e&&l(n),i(r,e)}}}function X(e,t,n){let{Text:o=["adjust"]}=t,{Selected:r=!1}=t,{Special:c=!1}=t;return e.$$set=e=>{"Text"in e&&n(0,o=e.Text),"Selected"in e&&n(1,r=e.Selected),"Special"in e&&n(2,c=e.Special)},[o,r,c]}class Y extends F{constructor(e){super(),z(this,e,X,W,c,{Text:0,Selected:1,Special:2})}}function Z(e,t,n){const o=e.slice();return o[13]=t[n],o[15]=n,o}function ee(e){let t,n,o,r,c,f,m,$,h,g,y,w,v,E,S;m=new Y({props:{Text:["Pagina",`${e[2]}/${Math.ceil(e[5].length/oe)}`],Special:!0}}),h=new Y({props:{Text:["Toggle Help"],Special:!0,Selected:1==e[1]}}),y=new Y({props:{Text:["Stop Emote"],Special:!0,Selected:2==e[1]}}),v=new Y({props:{Text:["Default"==e[4]?"Gedeelde Animaties":"Normale Animaties"],Special:!0,Selected:3==e[1]}});let b=e[3],x=[];for(let t=0;t<b.length;t+=1)x[t]=te(Z(e,b,t));const _=e=>G(x[e],1,1,(()=>{x[e]=null}));return{c(){t=u("div"),n=u("div"),n.innerHTML='<p class="svelte-1fytcyq">Animaties</p>',o=d(),r=u("div"),r.innerHTML='<p class="svelte-1fytcyq">Emotes List</p>',c=d(),f=u("div"),O(m.$$.fragment),$=d(),O(h.$$.fragment),g=d(),O(y.$$.fragment),w=d(),O(v.$$.fragment),E=d();for(let e=0;e<x.length;e+=1)x[e].c();p(n,"class","menu-header svelte-1fytcyq"),p(r,"class","menu-current svelte-1fytcyq"),p(f,"class","menu-items"),p(t,"class","menu-wrapper svelte-1fytcyq")},m(e,l){a(e,t,l),s(t,n),s(t,o),s(t,r),s(t,c),s(t,f),R(m,f,null),s(f,$),R(h,f,null),s(f,g),R(y,f,null),s(f,w),R(v,f,null),s(f,E);for(let e=0;e<x.length;e+=1)x[e]&&x[e].m(f,null);S=!0},p(e,t){const n={};36&t&&(n.Text=["Pagina",`${e[2]}/${Math.ceil(e[5].length/oe)}`]),m.$set(n);const o={};2&t&&(o.Selected=1==e[1]),h.$set(o);const r={};2&t&&(r.Selected=2==e[1]),y.$set(r);const c={};if(16&t&&(c.Text=["Default"==e[4]?"Gedeelde Animaties":"Normale Animaties"]),2&t&&(c.Selected=3==e[1]),v.$set(c),10&t){let n;for(b=e[3],n=0;n<b.length;n+=1){const o=Z(e,b,n);x[n]?(x[n].p(o,t),q(x[n],1)):(x[n]=te(o),x[n].c(),q(x[n],1),x[n].m(f,null))}for(M(),n=b.length;n<x.length;n+=1)_(n);j()}},i(e){if(!S){q(m.$$.fragment,e),q(h.$$.fragment,e),q(y.$$.fragment,e),q(v.$$.fragment,e);for(let e=0;e<b.length;e+=1)q(x[e]);S=!0}},o(e){G(m.$$.fragment,e),G(h.$$.fragment,e),G(y.$$.fragment,e),G(v.$$.fragment,e),x=x.filter(Boolean);for(let e=0;e<x.length;e+=1)G(x[e]);S=!1},d(e){e&&l(t),H(m),H(h),H(y),H(v),i(x,e)}}}function te(e){let t,n;return t=new Y({props:{Text:[e[13].Name],Special:e[13].Special,Selected:e[1]==e[15]+4}}),{c(){O(t.$$.fragment)},m(e,o){R(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.Text=[e[13].Name]),8&n&&(o.Special=e[13].Special),2&n&&(o.Selected=e[1]==e[15]+4),t.$set(o)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){H(t,e)}}}function ne(e){let t,n,o=e[0]&&ee(e);return{c(){o&&o.c(),t=m()},m(e,r){o&&o.m(e,r),a(e,t,r),n=!0},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&q(o,1)):(o=ee(e),o.c(),q(o,1),o.m(t.parentNode,t)):o&&(M(),G(o,1,1,(()=>{o=null})),j())},i(e){n||(q(o),n=!0)},o(e){G(o),n=!1},d(e){o&&o.d(e),e&&l(t)}}}let oe=9;function re(e,t,n){let o=!1,r=1,c=1,s=[],a=[],l="Default",i=[];const u=()=>{const e=(c-1)*oe,t=e+oe;n(3,s=i.slice(e,t)),r>s.length+1&&n(1,r=s.length+3)},f=e=>{switch(e.key){case"ArrowUp":if(V("Emotes/PlayNavSound"),r-1<=0)return void n(1,r=s.length+3);n(1,r-=1);break;case"ArrowDown":if(V("Emotes/PlayNavSound"),r+1>s.length+3)return void n(1,r=1);n(1,r+=1);break;case"ArrowLeft":V("Emotes/PlayNavSound"),n(2,c-1<=0?c=Math.ceil(i.length/oe):c-=1),u();break;case"ArrowRight":V("Emotes/PlayNavSound"),c+1>Math.ceil(i.length/oe)?n(2,c=1):n(2,c+=1),u()}},d=e=>{if("Enter"===e.key){if(0==r)return;if(1==r)return p();if(2==r)return m();if(3==r)return V("Emotes/PlayConfirmSound"),n(4,l="Default"==l?"Shared":"Default"),n(5,i=a.filter((e=>e.Data.Category==l))),u(),n(2,c=1),void n(1,r=3);$(s[r-4].Name)}},m=()=>{V("Emotes/Cancel")},p=()=>{V("Emotes/ToggleHelp")},$=e=>{V("Emotes/PlayEmote",{Emote:e})};return J("SetMenuVisibility",(e=>{n(0,o=e.Visible)})),J("Emotes/SetEmotes",(e=>{for(var t in e.Emotes)e.Emotes.hasOwnProperty(t)&&!e.Emotes[t].Hidden&&a.push({Name:t,Data:e.Emotes[t]});a.sort(((e,t)=>e.Name.localeCompare(t.Name))),n(5,i=a.filter((e=>e.Data.Category==l))),u()})),I("","Emotes/Close",(()=>o)),v((()=>(document.body.addEventListener("keydown",f),document.body.addEventListener("keyup",d),()=>{document.body.removeEventListener("keydown",f),document.body.removeEventListener("keyup",d)}))),[o,r,c,s,l,i]}class ce extends F{constructor(e){super(),z(this,e,re,ne,c,{})}}function se(t){let n,o;return n=new ce({}),{c(){O(n.$$.fragment)},m(e,t){R(n,e,t),o=!0},p:e,i(e){o||(q(n.$$.fragment,e),o=!0)},o(e){G(n.$$.fragment,e),o=!1},d(e){H(n,e)}}}class ae extends F{constructor(e){super(),z(this,e,null,se,c,{})}}function le(t){let n;return{c(){n=u("h6"),n.textContent="loser",$(n,"width","100%"),$(n,"text-align","center"),$(n,"font-size","40vh"),$(n,"font-family","Roboto"),$(n,"color","red")},m(e,t){a(e,n,t)},i:e,o:e,d(e){e&&l(n)}}}function ie(e){let t,n,o;return n=new ae({}),{c(){t=u("div"),O(n.$$.fragment),p(t,"class","root")},m(e,r){a(e,t,r),R(n,t,null),o=!0},i(e){o||(q(n.$$.fragment,e),o=!0)},o(e){G(n.$$.fragment,e),o=!1},d(e){e&&l(t),H(n)}}}function ue(t){let n,o,r,c;const s=[ie,le],i=[];return n=window.GetParentResourceName&&"fw-emotes"!=window.GetParentResourceName()?1:0,o=i[n]=s[n](t),{c(){o.c(),r=m()},m(e,t){i[n].m(e,t),a(e,r,t),c=!0},p:e,i(e){c||(q(o),c=!0)},o(e){G(o),c=!1},d(e){i[n].d(e),e&&l(r)}}}function fe(e){return I("Close","Emotes/Close",(()=>!0)),[]}return new class extends F{constructor(e){super(),z(this,e,fe,ue,c,{})}}({target:document.body})}();
