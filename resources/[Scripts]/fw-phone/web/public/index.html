<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />

    <title>sir, stop stealing this?</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <link rel="stylesheet" href="./build/smui.css" />

    <link rel="stylesheet" href="./tooltip.css" />
    <link rel="stylesheet" href="./global.css" />
    <link rel="stylesheet" href="./build/bundle.css" />
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.15.4/css/all.css" />

    <script src="./tooltip.js"></script>
    <script defer src="./build/bundle.js"></script>
</head>
<body>
    
    <script>
        $(document).ready(function(){
            window.addEventListener('message', event => {
                switch (event.data.Action) {
                    case "ClosePhone":
                        setTimeout(() => {
                            $('.tooltip-css').remove();
                        }, 500);
                        break;
                }
            });
        });

        const handleError = (event) => {
            localStorage.setItem("isUiCrashed", "yes")
            localStorage.setItem("crashedAppName", "phone")
            window.location.reload();
        };

        // window.addEventListener('error', handleError); // not needed for the window, per-app is better imo
        window.addEventListener("unhandledrejection", handleError); // is neeed, because these freeze the ui in a unrecoverable state.
    </script>

</body>
</html>