(()=>{"use strict";var e={599:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=s(726),o=s(229),i={},n=new o.Thread("tick",2e3);n.addHook("active",(()=>{var e;for(let t=0;t<r.blipTypes.length;t++){const s=r.blipTypes[t];let o=[];for(let r=0;r<s.subscribers.length;r++){const n=s.subscribers[r];if(n){const s=GetPlayerPed(n.source);if(DoesEntityExist(s)){const[r,c,l]=GetEntityCoords(s),a=(null===(e=i[n.source])||void 0===e?void 0:e.label)||GetPlayerName(n.source);o.push([r,c,l,t,n.subGroup,n.source,a])}}}for(let e=0;e<s.subscribers.length;e++){const t=s.subscribers[e];t&&emitNet("fw-sync:Client:Blips:SyncBlips",t.source,o)}}})),onNet("fw-sync:Server:Blips:SubscribeToGroup",((e,t)=>{const s=source,o=r.blipTypes.findIndex((t=>t.group==e));-1!=o&&-1==r.blipTypes[o].subscribers.findIndex((e=>e.source==s))&&(i[s]||(i[s]={}),i[s].group=e,r.blipTypes[o].subscribers.push({source:s,subGroup:t}))})),onNet("fw-sync:Server:Blips:UnsubscribeFromGroup",(e=>{const t=source;i[t]=void 0;const s=r.blipTypes.findIndex((t=>t.group==e));if(-1!=s){r.blipTypes[s].subscribers=r.blipTypes[s].subscribers.filter((e=>e.source!=t));for(let e=0;e<r.blipTypes[s].subscribers.length;e++)emitNet("fw-sync:Client:Blips:RemoveUnsubscriber",r.blipTypes[s].subscribers[e].source,t)}})),onNet("fw-sync:Server:Blips:RegisterSourceName",((e,t)=>{const s=t||source;i[s]||(i[s]={}),i[s].label=e})),on("playerDropped",(()=>{const e=source;if(!i[e])return;const t=r.blipTypes.findIndex((t=>t.group==i[e].group));if(-1!=t){i[e]=void 0,r.blipTypes[t].subscribers=r.blipTypes[t].subscribers.filter((t=>t.source!=e));for(let s=0;s<r.blipTypes[t].subscribers.length;s++)emitNet("fw-sync:Client:Blips:RemoveUnsubscriber",r.blipTypes[t].subscribers[s].source,e)}})),t.default=()=>{n.start()}},647:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=s(229),o=s(586),i=s(483);let n=[10,0],c="OVERCAST",l=!1,a=!1;const u=new r.Thread("tick",2700);u.addHook("active",(()=>{n[1]+1>=60?(n[1]=0,n[0]++):n[1]++,n[0]>=24&&(n[0]=1),emitNet("fw-sync:Client:SetTime",-1,n)})),on("fw-sync:Server:SetWeatherTime",(e=>{n=[e,0],emitNet("fw-sync:Client:SetTime",-1,n)})),on("fw-sync:Server:SetCurrentWeather",(e=>{a="xmas"==e.toLowerCase(),c=a?"OVERCAST":e,emitNet("fw-sync:Client:SetWeather",-1,c),emitNet("fw-sync:Client:SetSnow",-1,a)})),on("fw-sync:Server:SetBlackout",(e=>{l=!l,emitNet("fw-sync:Client:SetBlackout",-1,l),emitNet("chatMessage",-1,"LS Water & Elektriciteit","warning","De stroom in de stad is momenteel uitgevallen. We zijn bezig om het te herstellen!"),setTimeout((()=>{l=!1,emitNet("chatMessage",-1,"LS Water & Elektriciteit","warning","De stroom in de stad is hersteld!"),emitNet("fw-sync:Client:SetBlackout",-1,l)}),6e5)})),t.default=()=>{u.start(),i.FW.Commands.Add("blackout","Toggle blackout.",[],!1,((e,t)=>{l=!l,emitNet("fw-sync:Client:SetBlackout",-1,l)}),"admin"),i.FW.Functions.CreateCallback("fw-sync:Server:GetWeatherData",((e,t)=>{t({Time:n,Weather:c,Blackout:l,Snow:a})})),RegisterCommand("+setWeather",((e,t)=>{0==e&&emit("fw-sync:Server:SetCurrentWeather",t[0])}),!0)},(0,o.exp)("GetCurrentTime",(()=>({Hour:n[0],Minute:n[1]}))),(0,o.exp)("GetCurrentWeather",(()=>c))},483:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FW=void 0;const o=s(586);t.FW=o.exp["fw-core"].GetCoreObject();const i=r(s(647)),n=r(s(599));setImmediate((()=>{(0,i.default)(),(0,n.default)()}))},726:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.blipTypes=void 0,t.blipTypes=[{group:"gov",color:3,showLocalDirection:!0,subGroups:[{id:"UPD",color:12},{id:"LSPD",color:3},{id:"BCSO",color:31},{id:"SDSO",color:31},{id:"RANGER",color:52},{id:"SASP",color:63},{id:"DISPATCH",color:50},{id:"MCU",color:40},{id:"HSPU",color:4},{id:"EMS",color:23},{id:"DOC",color:2},{id:"STORESECURITY",color:13}],subscribers:[]}]},229:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Thread=void 0;let s=0,r=[];setTick((()=>{const e=GetGameTimer();for(let t=0;t<r.length;t++){const{Id:s,ThreadFunctions:o,Delay:i,LastExecution:n,Data:c}=r[t];e>n+i&&(o.forEach((e=>e(c))),r[t].LastExecution=e)}})),t.Thread=class{constructor(e,t){s+=1,this.ThreadType=e,this.Delay=t||0,this.ThreadId=s,this.running=!1,this.hooks=[],this.data={}}addHook(e,t){this.hooks.push({Event:e,Callback:t});const s=r.findIndex((e=>e.Id==this.ThreadId));-1!=s&&(r[s].ThreadFunctions=this.hooks.filter((e=>"active"==e.Event)).map((e=>e.Callback)))}executeHook(e){this.hooks.filter((t=>t.Event==e)).forEach((e=>e.Callback(this.data)))}start(){if(!this.running){if(this.running=!0,this.executeHook("preStart"),"frame"==this.ThreadType)return console.log("Frame-timed threads currently unsupported!");r.push({Id:this.ThreadId,ThreadFunctions:this.hooks.filter((e=>"active"==e.Event)).map((e=>e.Callback)),Delay:this.Delay,LastExecution:GetGameTimer()+this.Delay,Data:this.data})}}stop(){this.running&&(this.running=!1,r=r.filter((e=>e.Id!=this.ThreadId)),this.executeHook("afterStop"))}}},586:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterNUICallback=t.SetUIFocus=t.SendUIMessage=t.GetRandom=t.Delay=t.exp=void 0,t.exp=s.g.exports,t.Delay=e=>new Promise((t=>setTimeout(t,e))),t.GetRandom=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,t.SendUIMessage=IsDuplicityVersion()?()=>console.warn("SendUIMessage does exist on server."):(e,s,r)=>{t.exp["fw-ui"].SendUIMessage(e,s,r)},t.SetUIFocus=IsDuplicityVersion()?()=>console.warn("SetUIFocus does exist on server."):(e,s)=>{t.exp["fw-ui"].SetUIFocus(e,s)},t.RegisterNUICallback=IsDuplicityVersion()?()=>console.log("RegisterNUICallback can't be used on server."):(e,t)=>{RegisterNuiCallbackType(e),on(`__cfx_nui:${e}`,t)}}},t={};function s(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,s),i.exports}s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s(483)})();